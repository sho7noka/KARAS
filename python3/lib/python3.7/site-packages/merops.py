import sys
import os
import pathlib
from ctypes import *

@CFUNCTYPE(None, POINTER(c_int))
def callback(number):
    print('python: the number is ', number[0])

def main():
    a = os.path.dirname(__file__)
    print (a)
    native_lib = CDLL(a + '/libMerops.dylib')
    native_lib.set_callback(byref(callback))
    native_lib.execute_callback()
    print (dir(native_lib))
    del native_lib

if __name__ == "__main__":
    main()
